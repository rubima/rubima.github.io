<!DOCTYPE html>
<html>
  



  <head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-41117431-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-41117431-1');
  </script>
  <script src="../../js/gtag.js"></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Ruby ビギナーのための CGI 入門 【第 3 回】 ページ 3</title>
  <meta name="description" content="">

  <script src="../../js/jquery.min.js"></script>
  <script src="../../js/bootstrap.min.js"></script>
  <link href="../../css/bootstrap.min.css" rel="stylesheet" type="text/css">
  <link href="../../css/theme.css" rel="stylesheet" type="text/css">
  <link href="../../css/syntax.css" rel="stylesheet" type="text/css">
  <link href="../../css/sharebutton.css" rel="stylesheet" type="text/css">
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

  <link rel="canonical" href="https://magazine.rubyist.net/articles/0014/0014-CGIProgrammingForRubyBeginners-3.html">
  <link rel="alternate" type="application/rss+xml" title="Rubyist Magazine" href="https://magazine.rubyist.net/feed.xml">
  <link rel="shortcut icon" href="../../images/favicon.ico">
</head>

  <body>
    <div class="container-fluid">
        <div class="row full">
            <div class="col-md-2 hidden-xs sidebar">
                <h4>

</h4>

<h4>バックナンバー</h4>
<ul>
    <li><a href="../../articles/backnumber/backnumber.html">記事単位</a></li>
    <hr>
    
        <li><a href="../../articles/0060/0060-index.html">0060号(2019-08)</a></li>
    
        <li><a href="../../articles/prerubykaigi2019/preRubyKaigi2019-index.html">RubyKaigi 2019 直前特集号</a></li>
    
        <li><a href="../../articles/0059/0059-index.html">0059号(2019-01)</a></li>
    
        <li><a href="../../articles/0058/0058-index.html">0058号(2018-08)</a></li>
    
        <li><a href="../../articles/prerubykaigi2018/preRubyKaigi2018-index.html">RubyKaigi 2018 直前特集号</a></li>
    
        <li><a href="../../articles/0057/0057-index.html">0057号(2018-02)</a></li>
    
        <li><a href="../../articles/prerubykaigi2017/preRubyKaigi2017-index.html">RubyKaigi 2017 直前特集号</a></li>
    
        <li><a href="../../articles/0056/0056-index.html">0056号(2017-08)</a></li>
    
        <li><a href="../../articles/0055/0055-index.html">0055号(2017-03)</a></li>
    
        <li><a href="../../articles/0054/0054-index.html">0054号(2016-08)</a></li>
    
        <li><a href="../../articles/pretokyorubykaigi11/preTokyoRubyKaigi11-index.html">東京 Ruby 会議 11 直前特集号</a></li>
    
        <li><a href="../../articles/0053/0053-index.html">0053号(2016-04)</a></li>
    
        <li><a href="../../articles/0052/0052-index.html">0052号(2015-12)</a></li>
    
        <li><a href="../../articles/0051/0051-index.html">0051号(2015-09)</a></li>
    
        <li><a href="../../articles/0050/0050-index.html">0050号(2015-05)</a></li>
    
        <li><a href="../../articles/0049/0049-index.html">0049号(2014-12)</a></li>
    
        <li><a href="../../articles/0048/0048-index.html">0048号(2014-09)</a></li>
    
        <li><a href="../../articles/0047/0047-index.html">0047号(2014-06)</a></li>
    
        <li><a href="../../articles/0046/0046-index.html">0046号(2014-04)</a></li>
    
        <li><a href="../../articles/0045/0045-index.html">0045号(2013-12)</a></li>
    
        <li><a href="../../articles/0044/0044-index.html">0044号(2013-09)</a></li>
    
        <li><a href="../../articles/0043/0043-index.html">0043号(2013-07)</a></li>
    
        <li><a href="../../articles/0042/0042-index.html">0042号(2013-05)</a></li>
    
        <li><a href="../../articles/ruby200specialen/Ruby200SpecialEn-index.html">2.0.0 Special (EN)</a></li>
    
        <li><a href="../../articles/0041/0041-index.html">0041号(2013-02)</a></li>
    
        <li><a href="../../articles/0040/0040-index.html">0040号(2012-11)</a></li>
    
        <li><a href="../../articles/0039/0039-index.html">0039号(2012-09)</a></li>
    
        <li><a href="../../articles/rubykaja/kaja.html">RubyKaja のご紹介</a></li>
    
        <li><a href="../../articles/0038/0038-index.html">0038号(2012-05)</a></li>
    
        <li><a href="../../articles/0037/0037-index.html">0037号(2012-02)</a></li>
    
        <li><a href="../../articles/0036/0036-index.html">0036号(2011-11)</a></li>
    
        <li><a href="../../articles/0035/0035-index.html">0035号(2011-09)</a></li>
    
        <li><a href="../../articles/prerubykaigi2011/preRubyKaigi2011-index.html">RubyKaigi2011直前特集号</a></li>
    
        <li><a href="../../articles/0034/0034-index.html">0034号(2011-06)</a></li>
    
        <li><a href="../../articles/0033/0033-index.html">0033号(2011-04)</a></li>
    
        <li><a href="../../articles/0032/0032-index.html">0032号(2011-01)</a></li>
    
        <li><a href="../../articles/0031/0031-index.html">0031号(2010-10)</a></li>
    
        <li><a href="../../articles/prerubykaigi2010/preRubyKaigi2010-index.html">RubyKaigi2010直前特集号</a></li>
    
        <li><a href="../../articles/0030/0030-index.html">0030号(2010-06)</a></li>
    
        <li><a href="../../articles/0029/0029-index.html">0029号(2010-03)</a></li>
    
        <li><a href="../../articles/0028/0028-index.html">0028号(2009-12)</a></li>
    
        <li><a href="../../articles/0027/0027-index.html">0027号(2009-09)</a></li>
    
        <li><a href="../../articles/0026/0026-index.html">0026号(2009-06)</a></li>
    
        <li><a href="../../articles/0025/0025-index.html">0025号(2009-02)</a></li>
    
        <li><a href="../../articles/0024/0024-index.html">0024号(2008-10)</a></li>
    
        <li><a href="../../articles/0023/0023-index.html">0023号(2008-03)</a></li>
    
        <li><a href="../../articles/0022/0022-index.html">0022号(2007-12)</a></li>
    
        <li><a href="../../articles/0021/0021-index.html">0021号(2007-09)</a></li>
    
        <li><a href="../../articles/0020/0020-index.html">0020号(2007-08)</a></li>
    
        <li><a href="../../articles/0019/0019-index.html">0019号(2007-05)</a></li>
    
        <li><a href="../../articles/0018/0018-index.html">0018号(2007-02)</a></li>
    
        <li><a href="../../articles/0017/0017-index.html">0017号(2006-11)</a></li>
    
        <li><a href="../../articles/0016/0016-index.html">0016号(2006-09)</a></li>
    
        <li><a href="../../articles/0015/0015-index.html">0015号(2006-07)</a></li>
    
        <li><a href="../../articles/rubykaigi2006/RubyKaigi2006-index.html">日本 Ruby カンファレンス 2006 特別号</a></li>
    
        <li><a href="../../articles/0014/0014-index.html">0014号(2006-05)</a></li>
    
        <li><a href="../../articles/0013/0013-index.html">0013号(2006-02)</a></li>
    
        <li><a href="../../articles/0012/0012-index.html">0012号(2005-12)</a></li>
    
        <li><a href="../../articles/0011/0011-index.html">0011号(2005-11)</a></li>
    
        <li><a href="../../articles/0010/0010-index.html">0010号(2005-10)</a></li>
    
        <li><a href="../../articles/0009/0009-index.html">0009号(2005-09)</a></li>
    
        <li><a href="../../articles/0008/0008-index.html">0008号(2005-07)</a></li>
    
        <li><a href="../../articles/0007/0007-index.html">0007号(2005-06)</a></li>
    
        <li><a href="../../articles/0006/0006-index.html">0006号(2005-05)</a></li>
    
        <li><a href="../../articles/0005/0005-index.html">0005号(2005-02)</a></li>
    
        <li><a href="../../articles/0004/0004-index.html">0004号(2004-12)</a></li>
    
        <li><a href="../../articles/0003/0003-index.html">0003号(2004-11)</a></li>
    
        <li><a href="../../articles/0002/0002-index.html">0002号(2004-10)</a></li>
    
        <li><a href="../../articles/0001/0001-index.html">0001号(2004-09)</a></li>
    
</ul>
<p class="rss-subscribe"><a href="/feed.xml">RSS</a></p>

            </div>
            <div class="col-md-10 main">
                <div class="row">
                    <div class="col-md-12">
                        <img src="../../images/rubima_logo_l.png">
                        <h1>Ruby ビギナーのための CGI 入門 【第 3 回】 ページ 3</h1>
                        <div class="social-buttons">
                            <div class='sns'>            
    <ul class="clearfix">
       <li class="twitter"><a href="https://twitter.com/share?text=Ruby ビギナーのための CGI 入門 【第 3 回】 ページ 3&amp;url=https://magazine.rubyist.net/articles/0014/0014-CGIProgrammingForRubyBeginners-3.html" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;"><i class="fa fa-twitter"></i></a></li>
       <li class="facebook"><a href="https://www.facebook.com/sharer.php?u=https://magazine.rubyist.net/articles/0014/0014-CGIProgrammingForRubyBeginners-3.html&amp;t=Ruby ビギナーのための CGI 入門 【第 3 回】 ページ 3" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;"><i class="fa fa-facebook"></i></a></li>
       <li class="hatebu"><a href="http://b.hatena.ne.jp/add?mode=confirm&amp;url=https://magazine.rubyist.net/articles/0014/0014-CGIProgrammingForRubyBeginners-3.html&amp;Ruby ビギナーのための CGI 入門 【第 3 回】 ページ 3" target="_blank" onclick="javascript:window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');return false;"><i class="fa">B!</i></a></li>
    </ul>
</div>
                        </div>
                        <div class="post_info">
                            



                        </div>
                        
<p><a href="../../articles/0014/0014-CGIProgrammingForRubyBeginners-2.html">前ページへ</a>
<a href="../../articles/0014/0014-CGIProgrammingForRubyBeginners.html">目次ページへ</a></p>

<h2 id="このページの目次">このページの目次</h2>

<ul id="markdown-toc">
  <li><a href="#このページの目次" id="markdown-toc-このページの目次">このページの目次</a></li>
  <li><a href="#cgiプログラムのエラーの修正" id="markdown-toc-cgiプログラムのエラーの修正">CGIプログラムのエラーの修正</a>    <ul>
      <li><a href="#その-1" id="markdown-toc-その-1">その 1</a>        <ul>
          <li><a href="#エラー探し" id="markdown-toc-エラー探し">エラー探し</a></li>
          <li><a href="#もう-1-つのエラー" id="markdown-toc-もう-1-つのエラー">もう 1 つのエラー</a></li>
        </ul>
      </li>
      <li><a href="#その-2" id="markdown-toc-その-2">その 2</a>        <ul>
          <li><a href="#ruby-プログラムとしてのエラー" id="markdown-toc-ruby-プログラムとしてのエラー">Ruby プログラムとしてのエラー</a></li>
          <li><a href="#プリントデバッグ" id="markdown-toc-プリントデバッグ">プリントデバッグ</a></li>
          <li><a href="#servrerrb-のメッセージからのデバッグ" id="markdown-toc-servrerrb-のメッセージからのデバッグ">servrer.rb のメッセージからのデバッグ</a></li>
          <li><a href="#修正済みのプログラム" id="markdown-toc-修正済みのプログラム">修正済みのプログラム</a></li>
        </ul>
      </li>
      <li><a href="#その-3" id="markdown-toc-その-3">その 3</a>        <ul>
          <li><a href="#アクセスログに記録する内容" id="markdown-toc-アクセスログに記録する内容">アクセスログに記録する内容</a></li>
          <li><a href="#ログに記録する内容を表示させる" id="markdown-toc-ログに記録する内容を表示させる">ログに記録する内容を表示させる</a></li>
          <li><a href="#アクセスログの保存" id="markdown-toc-アクセスログの保存">アクセスログの保存</a></li>
        </ul>
      </li>
      <li><a href="#まとめ" id="markdown-toc-まとめ">まとめ</a></li>
    </ul>
  </li>
  <li><a href="#おわりに" id="markdown-toc-おわりに">おわりに</a></li>
  <li><a href="#参考文献-というか-ほとんどリンク" id="markdown-toc-参考文献-というか-ほとんどリンク">参考文献 というか ほとんどリンク</a>    <ul>
      <li><a href="#オブジェクトメソッドクラス" id="markdown-toc-オブジェクトメソッドクラス">オブジェクト・メソッド・クラス</a></li>
      <li><a href="#エラー" id="markdown-toc-エラー">エラー</a></li>
    </ul>
  </li>
  <li><a href="#筆者について-というか-猫について" id="markdown-toc-筆者について-というか-猫について">筆者について というか 猫について</a></li>
</ul>

<h2 id="cgiプログラムのエラーの修正">CGIプログラムのエラーの修正</h2>

<p>前のページでは、一般的な Ruby プログラムでよく目にする
エラーを紹介しました。
これからいよいよ CGI プログラムのエラーを見ていきましょう。</p>

<p>このページでは、皆さんにエラーを見つけてもらいます。
いきなり回答を見ずに、まずは自分でエラーを修正してみて下さい。</p>

<h3 id="その-1">その 1</h3>

<p>最初は非常に短い CGI プログラムからです。
連載の第 1 回はこんな感じの CGI プログラムから
スタートしましたね。
では、どこに間違いがあるのかよーく探してみて下さい。</p>

<p>baz01.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n</span><span class="s2">"</span>
<span class="n">priny</span> <span class="s2">"hogehoge"</span>

</code></pre></div></div>

<p>このプログラムは C:\rubima014-cgi にあります。
エラーがあると言っても最初はプログラムを眺めても分からないと思います。
サーバーを起動して、ブラウザで <a href="http://localhost:8080/baz01.rb">http://localhost:8080/baz01.rb</a> にアクセスして、
実行してみましょう。
実行結果は下のようになります。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz01.jpg" alt="baz01.jpg" /></p>

<h4 id="エラー探し">エラー探し</h4>

<p>ブラウザには「C:/rubima014-cgi/baz01.rb にエラーがありますよ」という意味の
メッセージが表示されています。
でも、このメッセージだけではどこにエラーがあるのか分かりません。</p>

<p>このように Internal Server Error というメッセージが表示された時は、
他の詳細なエラーメッセージを探したり、
プログラムを読んだりしてエラーの原因を探す必要があります。</p>

<p>おそらく皆さんの多くは server.rb 経由で CGI プログラムを実行させているでしょうから、
それを例にとって詳細なエラーメッセージについて説明します。
server.rb を使った場合、詳細なエラーメッセージは server.rb を
実行した際に現れる黒いコマンドプロンプトに表示されます。
コマンドプロンプトには CGI プログラムを実行した時刻や
CGI プログラムを実行した時のエラーメッセージ等が表示されています。
下に baz01.rb を実行した時に server.rb が表示するエラーメッセージを抜粋します。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">[2006-02-06 01:17:20] ERROR CGIHandler: C:/rubima014-cgi/baz01.rb:
C:/rubima014-cgi/baz01.rb:4: undefined method `priny' for main:Object (NoMethodError)
[2006-02-06 01:17:20] ERROR CGIHandler: C:/rubima014-cgi/baz01.rb exit with 1
[2006-02-06 01:17:20] ERROR Premature end of script headers: C:/rubima014-cgi/baz01.rb
INSPIRON - - [06/Feb/2006:01:17:19 東京 (標準時)] "GET /baz01.rb HTTP/1.1" 500 338
http://localhost:8080/ -&gt; /baz01.rb</code></pre></figure>

<p>このメッセージで重要なポイントは最初の 2 行です。
ここに baz01.rb を実行した時の Ruby のエラーメッセージが書かれています。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">C:/rubima014-cgi/baz01.rb: C:/rubima014-cgi/baz01.rb:4: undefined method `priny' for main:Object (NoMethodError)</code></pre></figure>

<p>このメッセージは前のページのエラーの紹介に出てきましたね。
メソッド名が間違っている時のエラーです。
エラーメッセージには 4 行目が間違っていると書かれています。
よく見ると baz01.rb の 4 行目 で priny を使っています。
これがエラーの原因です。</p>

<p>詳細なエラーメッセージはいつでも手に入るわけではありません。
例えば、レンタルサーバーで CGI プログラムを試している時には
詳細なエラーメッセージを見れないこともあります。
こうした場合、別の方法でエラーの原因を探す必要があります。</p>

<p>では、どうしたら良いのでしょうか?
今回のエラーは Ruby のエラーメッセージから分かるように
CGI プログラムに固有のエラーではなく、Ruby プログラムとしてのエラーです。
ですから、Ruby プログラムとして実行すれば
このエラーを見つけることが可能です。
下に RDE で baz01.rb を実行した場合のスクリーンショットを載せます。
CGI で実行した場合と同じエラーが出ていることが分かります。
このような方法でもエラーの原因を見つけることが出来ます。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz01-rde.jpg" alt="baz01-rde.jpg" /></p>

<p>このエラーを修正するには priny を print に変えます。
これで Ruby プログラムとして実行可能になります。
修正が終わったら、もう一度 CGI プログラムとして実行してみましょう。
<a href="http://localhost:8080/baz01.rb">http://localhost:8080/baz01.rb</a> にアクセスしてみて下さい。</p>

<p>…ブラウザには修正前と同じメッセ―ジが表示されてしまいますね。
先程のエラーが修正出来ていないのでしょうか ?
違います。少なくとも RDE で実行出来ているのですから、
Ruby プログラムとしてのエラーは修正されています。</p>

<h4 id="もう-1-つのエラー">もう 1 つのエラー</h4>

<p>実は baz01.rb にはもう 1 つエラーがあります。
コマンドプロンプトに表示されているメッセージをもう一度見直してみましょう。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">[2006-02-06 01:51:32] ERROR Premature end of script headers:
C:/rubima014-cgi/baz01.rb
INSPIRON - - [06/Feb/2006:01:51:30 東京 (標準時)] "GET /baz01.rb HTTP/1.1" 500 338
http://localhost:8080/ -&gt; /baz01.rb</code></pre></figure>

<p>確かに修正前と違うエラーメッセージになっています。
今回は何が原因でエラーになっているのでしょうか？
このエラーは CGI プログラムを作りだして間もない頃に良く見ると思います。
予行演習と思ってエラーの原因を考えてみて下さい。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">       原因を考えてみて下さい</code></pre></figure>

<p>では、答えを述べましょう。
元のプログラムの 3 行目は</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">print "Content-Type: text/plain\n"</code></pre></figure>

<p>となっていますね。
この行は連載第 1 回で紹介した CGI プログラムのおまじないです。
この行がエラーの原因です。
本来は下のようにしなければなりません。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">print "Content-Type: text/plain\n\n"</code></pre></figure>

<p>\n が抜けているだけなのですが、
これでもエラーになってしまいます。
修正は \n を文字列に加えるだけです。
修正した CGI プログラムが <a href="http://localhost:8080/baz01-ok.rb">http://localhost:8080/baz01-ok.rb</a> にあります。
アクセスしてみて下さい。</p>

<p>修正後の CGI プログラムを下に載せます。
自分が修正した部分と同じようになっていますか?
修正部分はごく僅かですが、
そうした僅かな違いがエラーを引き起こしてしまいます。</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>
<span class="nb">print</span> <span class="s2">"hogehoge"</span>

</code></pre></div></div>

<h3 id="その-2">その 2</h3>

<p>2 つ目の CGI プログラムを見ていきましょう。
このプログラムは前回の「山彦もどき」のように
フォームのテキストフィールドに入力されたデータを
そのまま表示させる CGI プログラムです。</p>

<p>baz02.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi "</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>

<span class="n">cgi</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">cgi</span><span class="p">[</span><span class="s2">"msg"</span><span class="p">]</span>

<span class="nb">print</span> <span class="n">m</span>

</code></pre></div></div>

<p><a href="http://localhost:8080/baz02.html">http://localhost:8080/baz02.html</a> にフォームがあります。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02.html" alt="baz02.html" /></p>

<p>フォームに入力してOKボタンを押して、baz02.rb を実行してみましょう。
baz02.rb が実行されると、baz01.rb と同じエラーがブラウザに表示されます。
前回同様、これでは何がエラーの原因か分かりません。
それでもとりえあずプログラムを読んだりして
色々とエラーの原因を探してみて下さい。</p>

<h4 id="ruby-プログラムとしてのエラー">Ruby プログラムとしてのエラー</h4>

<p>まずはコマンドプロンプトに表示されている server.rb のメッセージを見てみましょう。
エラーメッセージからは、
baz02.rb の 3 行目でエラーが出ていることが分かります。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">[2006-02-06 02:47:53] ERROR CGIHandler: C:/rubima014-cgi/baz02.rb:
C:/rubima014-cgi/baz02.rb:3:in `require': No such file to load -- cgi (LoadError)
     from C:/rubima014-cgi/baz02.rb:3
[2006-02-06 02:47:53] ERROR CGIHandler: C:/rubima014-cgi/baz02.rb exit with 1
[2006-02-06 02:47:53] ERROR Premature end of script headers: C:/rubima014-cgi/baz02.rb
INSPIRON - - [06/Feb/2006:02:47:52 東京 (標準時)] "GET /baz02.rb?message=hoge&amp;s=OK HTTP/1.1" 500 338
http://localhost:8080/baz02.html -&gt; /baz02.rb?message=hoge&amp;s=OK</code></pre></figure>

<p>3 行目は CGI クラスの準備を行っている部分です。
プログラムを良く見ると、
3 行目の require の後ろが “cgi “ (空白が余分です) になっています。
ここは “cgi” でなければなりません。
修正する前に RDE で実行してみて下さい。
3 行目でエラーが出ているはずです。</p>

<p>“cgi “ の部分を修正したら、一度 RDE で実行してみましょう。
RDE で実行すると、プログラムが実行の途中で止まり、
実行結果を表示する部分が灰色のままになってしまいます。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-input.jpg" alt="baz02-input.jpg" /></p>

<p>CGI クラスのオブジェクトを使った CGI プログラムを実行すると、
CGI オブジェクトはフォームの値が欲しくて
プログラムの実行を途中で止めてしまいます。
この状態をフォームの値の入力待ちと言います。</p>

<p>これは CGI クラスの特徴の 1 つです。
RDE を経由して CGI オブジェクトにフォームの値を入力すればプログラムが
再開されます。</p>

<p>フォームの値を入力するには RDE のメニューの デバッグ → 一行入力 を選びます。
こうすると一行入力と書かれたダイアログが出てくるので、
ここにフォームの値を入力します。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-oneline.jpg" alt="baz02-oneline.jpg" /></p>

<p>今は何も入力をしないで CGI プログラムを再開させましょう。
何も打たずに「入力」のボタンを押します。
次に RDE のメニューの 編集 → EOFを入力 を選びます。
これで Ruby プログラムが再開されます。
下にその結果を載せます。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-outcome.jpg" alt="baz02-outcome.jpg" /></p>

<p>RDE で実行できたらもう一度 <a href="http://localhost:8080/baz02.html">http://localhost:8080/baz02.html</a>
を表示させてフォームに入力し、CGI プログラムとして実行してみましょう。
おそらく下のように何も表示されないと思います。</p>

<p>山彦もどき なので入力した値が表示されるはずなのですが、
どうしてこうなるのでしょうか？
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-white.jpg" alt="baz02-white.jpg" /></p>

<p>実は baz02.rb にはエラーがもう一つあります。
そのエラーを見つける方法としてこれから下の 2 種類の方法を紹介します。
でも、まずは皆さん自身で色々と考えてみて下さい。</p>

<ul>
  <li>前ページで紹介したプリントデバッグ</li>
  <li>server.rb のメッセージからデバッグ</li>
</ul>

<h4 id="プリントデバッグ">プリントデバッグ</h4>

<p><a href="../../articles/0014/0014-CGIProgrammingForRubyBeginners-2.html">2 ページ</a> で紹介した
プリントデバッグを使って原因を調べてみましょう。</p>

<p>プリントデバッグではプログラムのどこで
何を表示させるかというのが一つのポイントになります。
プログラムの怪しそうな場所で、怪しそうな変数を決めて、
p 等でオブジェクトを表示させてプリントデバッグします。</p>

<p>今回は変数 m と cgi.params の内容を表示させることにします。
変数 m は最後に山彦もどきとして表示させるデータです。
変数 m の値が期待している値と違えば、
そこまでのどこかがおかしい、ということが分かります。
もう一つの cgi.params は CGI オブジェクトに params というメソッドを
実行してもらった時の返り値です
(少し難しいかもしれませんが、今後はこのような表現にも馴れていって下さい)。
CGI オブジェクト の params メソッドの返り値は
フォームに入力された値の一覧です。
もし、フォームの値がうまく入力されていなければ
cgi.params の値がおかしいはずです。</p>

<p>では、実際にプリントデバッグ用のプログラムを見てみましょう。
9, 11 行目がプリントデバッグ用になります。
9, 11 行目はそれぞれ cgi.params と変数 m
が使えるようになった直後ですから、
ここにプリントデバッグ用の行を入れることが妥当です。</p>

<p>baz02-print.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi"</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>

<span class="n">cgi</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>

<span class="nb">p</span> <span class="n">cgi</span><span class="p">.</span><span class="nf">params</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">cgi</span><span class="p">[</span><span class="s2">"msg"</span><span class="p">]</span>
<span class="nb">p</span> <span class="n">m</span>

<span class="nb">print</span> <span class="n">m</span>

</code></pre></div></div>

<p>実際に baz02-print.rb を RDE から実行してみます。
9, 11 行目のようなプリントデバッグを含んだ CGI プログラムを
そのまま server.rb などから CGI で実行すると、
プリントデバッグの実行結果がブラウザに表示されてしまいます。
これでは見にくかったり、「premature end of script headers」という
エラーになることが多いので、
最初は Ruby プログラムとして実行することをお勧めします。</p>

<p>RDE から実行する時はフォームの値を入力してあげなくてはいけません。
そのためには下図のように baz02-print.rb がフォームの入力待ちになった時に
フォームのデータを入れてあげます。
フォームのデータは前号で説明した URL の「?」の後ろの部分です。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-print.jpg" alt="baz02-print.jpg" /></p>

<p>一行入力に対し図のように message=hogehoge と入力し、
その後でメニューから 編集 -&gt; EOF を入力 を選択します。
これで baz02-print.rb が実行されます。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/baz02-print2.jpg" alt="baz02-print2.jpg" /></p>

<p>実行結果は</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">message=hogehoge

Content-Type: text/plain

{"message"=&gt;["hogehoge"]}
""</code></pre></figure>

<p>となっていますね。最後の 2 行以外はプリントデバッグを実行するまでの
出力結果なので、無視します。</p>

<p>出力結果の 5 行目が cgi.params の返り値を p で表示させた結果です。
これが今回入力したフォームのデータです。
表示された結果から cgi.params の返り値が Hash ということが分かりますね。
返り値の Hash の表示のされ方が難しいと思いますが、
この Hash には message という name 属性を持つフォームの値が含まれています。
6 行目は変数 m のデータです。空文字列ですね。</p>

<p>ここから分かるようにフォームのデータはきちんと処理されていますが、
変数 m の値は変ですね。
そのつもりで baz02.rb を見直すと、間違っているところがありました。
8 行目の</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">m = cgi["msg"]</code></pre></figure>

<p>の部分です。
この行ではフォームの値のうち msg の組の値を使おうとしています。
しかし、cgi.params の返り値には msg の組がありません</p>

<p>実際、<a href="http://localhost:8080/baz02.html">http://localhost:8080/baz02.html</a>
のフォームに何かデータを入力してみて下さい。
baz02.html 経由で baz02.rb が実行された時、
<a href="http://localhost:8080/baz02.rb?message=dddd&amp;s=OK">http://localhost:8080/baz02.rb?message=dddd&amp;s=OK</a> のように
message はあっても msg はないはずです。</p>

<p>フォームの値に指定された組が無い時、
CGI オブジェクトの [] メソッドは空文字列を返します。
そのため変数 m は空文字列を指すことになります。
結果、ブラウザには何も表示されないわけです。</p>

<p>最後に修正ですね。これも簡単です。
baz02.rb の msg という文字列を message に変えれば期待通りに動くようになります。</p>

<h4 id="servrerrb-のメッセージからのデバッグ">servrer.rb のメッセージからのデバッグ</h4>

<p>プリントでバッグ以外でもサーバーが出すメッセージから
エラーの原因を見つけることが可能です。
<a href="http://localhost:8080/baz02.html">http://localhost:8080/baz02.html</a> のフォームに hoge と入力して、
CGI プログラムを実行させた時の
コマンドプロンプトのメッセージを見てみましょう。</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">INSPIRON - - [11/Feb/2006:00:19:29 東京 (標準時)] "GET /baz02.rb?message=hoge&amp;s=OK HTTP/1.1" 200 0
http://localhost:8080/baz02.html -&gt; /baz02.rb?message=hoge&amp;s=OK</code></pre></figure>

<p>よく見ると、baz02.rb?message=hoge&amp;s=OK となっていますね。
ブラウザの URL にも同じ値があります。
これは入力したフォームの値が</p>

<ul>
  <li>message と hoge</li>
  <li>s と OK</li>
</ul>

<p>の組み合わせになっていることを示しています。
前者 (message の組) は入力を行うテキストフィールド、
後者 (s の組) はサブミットボタン(送信ボタン) に対応します。
山彦もどきで表示させたいのは message の値です。</p>

<p>既に述べたように cgi[“msg”] となっていると、
msg の組の値を得ることになりますが、
実際にはそのような組が無いため変数 m が空文字列になってしまいます。</p>

<h4 id="修正済みのプログラム">修正済みのプログラム</h4>

<p>今回のプログラムでも、エラーの原因は見つけにくかったと思いますが、
原因さえ分かれば修正は簡単でしたね。
修正後のプログラムを下に載せます。
自分で修正出来たでしょうか？</p>

<p>baz02-ok.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi"</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>

<span class="n">cgi</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">cgi</span><span class="p">[</span><span class="s2">"message"</span><span class="p">]</span>

<span class="nb">print</span> <span class="n">m</span>

</code></pre></div></div>

<p><a href="http://localhost:8080/baz02-ok.rb">http://localhost:8080/baz02-ok.rb</a> に修正済みの CGI プログラムがあるので、
baz02.html の form タグの action 属性を変更してから、
試してみて下さい。</p>

<p>実は修正方法がもう一つあります。
baz02.rb の msg はそのままにしておいて、
baz02.html の</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">&lt;input name="message" value=""&gt; &lt;br&gt;</code></pre></figure>

<p>という行を</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">&lt;input name="msg" value=""&gt; &lt;br&gt;</code></pre></figure>

<p>に変更します。フォームデータに message を使うのではなく、
msg を使うわけです。こうすればプログラム側が msg でも
きちんと動作します。</p>

<h3 id="その-3">その 3</h3>

<p>ここではアクセスログを取る CGI プログラムを作ってみます。
アクセスログというのはページ (あるいはサーバー) にアクセスがある時、
アクセスがあったことを記録したものです。</p>

<p>普通アクセスログには色々な情報を記録するのですが、
今回は基本的な情報だけを記録するプログラムを作ります。
そのプログラムの作製中にエラーのあるプログラムが出てくるので、
皆さんでそれを修正してみて下さい。</p>

<h4 id="アクセスログに記録する内容">アクセスログに記録する内容</h4>

<p>まず、アクセスログに記録する内容について考えてみます。</p>

<p>収集する情報は下記の 3 つにしぼります。</p>

<ul>
  <li>アクセスされた時刻</li>
  <li>アクセス元のアドレス</li>
  <li>アクセス元の計算機の名前</li>
</ul>

<p>アクセス元のアドレスは IP アドレスという番号になります。
IP アドレスというのはネットワークにつながっている各計算機に割り振られていて、
基本的に同じ IP アドレスの計算機はインターネット上にありません。
そのため IP アドレスを記録すればどの計算機からアクセスがあったのか分かります
(本当はそれほど簡単ではないのですが、
この部分は本筋ではないのでそういう事にしておきます)。</p>

<p>アクセス元の計算機の名前というのは URL によく使われる
「.」でつながった部分です。
<a href="http://www.ruby-lang.org/">http://www.ruby-lang.org/</a> なら
www.ruby-lang.org の部分が名前になります。
各計算機にはこうした名前が付けられていて
基本的に IP アドレスと対応するようになっています。
他にも、<a href="http://localhost:8080/">http://localhost:8080/</a> の localhost も
計算機の名前です。</p>

<p>アクセス元のアドレスと計算機の名前は CGI クラスのオブジェクトに頼むと
簡単に手に入るようになっています。
具体的には CGI オブジェクトに</p>

<ul>
  <li>remote_addr</li>
  <li>remote_host</li>
</ul>

<p>というメソッドを実行してもらうと上記の情報が得られます。
これらのメソッドはリファレンスマニュアルの
<a href="http://www.ruby-lang.org/ja/man/?cmd=view;name=CGI;em=cgi#CGI.20.a4.cb.b4.d8.cf.a2.a4.b9.a4.eb.b4.c4.b6.ad.ca.d1.bf.f4.a4.ce.c3.cd.a4.f2.bc.e8.c6.c0.a4.b9.a4.eb">CGI に関連する環境変数の値を取得する </a>
という項目で説明されていますので、余裕のある人は参照してみて下さい。</p>

<p>アクセスされた時刻にはアクセスログの CGI プログラムが
実行された時の時刻を使います。
Time というクラスのオブジェクトを作ると、
その Time オブジェクトにはオブジェクトが作られた時刻が記録されます。
それを利用してアクセスされた時刻のデータを取得します。</p>

<h4 id="ログに記録する内容を表示させる">ログに記録する内容を表示させる</h4>

<p>まずはログを取る 3 つを表示させてみます。
CGI プログラムのエラー探しは次で行います。</p>

<p>では、実際に上の 3 つの情報を表示させてみましょう。
<a href="http://localhost:8080/show.rb">http://localhost:8080/show.rb</a> にアクセスしてみて下さい。
show.rb は上の 3 つの情報を表示させる CGI プログラムです。
難しいところは無いと思います。</p>

<p>show.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi"</span>

<span class="n">c</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>

<span class="nb">print</span> <span class="no">Time</span><span class="p">.</span><span class="nf">new</span>
<span class="nb">print</span> <span class="s2">": "</span>
<span class="nb">print</span> <span class="n">c</span><span class="p">.</span><span class="nf">remote_addr</span>
<span class="nb">print</span> <span class="s2">", "</span>
<span class="nb">print</span> <span class="n">c</span><span class="p">.</span><span class="nf">remote_host</span>
<span class="nb">print</span> <span class="s2">"</span><span class="se">\n</span><span class="s2">"</span>

</code></pre></div></div>

<p>9 行目で Time.new で Time オブジェクトが作られています。
この行で show.rb が実行された時刻が表示されるわけです。
11, 14行目では CGI オブジェクトの remote_addr, remote_host
の 2 つのメソッドが使われています。</p>

<h4 id="アクセスログの保存">アクセスログの保存</h4>

<p>次に実際にアクセスログを保存する CGI プログラムを作ります。
必要なデータを取得する方法は分かりましたから、
後はそのデータを記録するだけです。
アクセスログを記録する方法は
前回の掲示板データを保存した時と基本的に同じです。</p>

<p>データを保存する時に 1 回のアクセスの記録が 1 行になるようにします。
つまり、3 回分のアクセスログは 3 行に、
100 回分のアクセスログは 100 行にします。
また、保存先のファイルは
プログラムと同じフォルダーの access.txt にします。
では、CGI プログラム全体を見てみましょう。</p>

<p>access.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi"</span>

<span class="n">c</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"access.txt"</span><span class="p">,</span> <span class="s2">"w"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="no">Time</span><span class="p">.</span><span class="nf">new</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">": "</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">remote_addr</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">remote_host</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>
<span class="nb">print</span> <span class="s2">"OK"</span>


</code></pre></div></div>

<p>実はこのプログラムにはエラーがあります。
エラーを見つけるためにとりあえず実行してみましょう。
<a href="http://localhost:8080/access.rb">http://localhost:8080/access.rb</a> にアクセスしてみて下さい。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/access-ok.jpg" alt="access-ok.jpg" /></p>

<p>OK と表示されたので、ちょっと見ただけでは
うまく実行出来ているように見えますね。
でも、エラーがあります。</p>

<p>次に access.rb をざっと眺めてみましょう。
3〜5 行は CGI オブジェクトを作る部分です。
ここは問題無さそうです。
7〜14 行は実際にファイルに保存している部分です。
7 行目で access.txt を書き込み用に開いて、
そこに 3 つの情報を書き込んでいます。
14 行目で改行を書き加えて 1 回分のアクセスログが
1 行になるようにしています。
15〜16 行はとりあえず何かを表示させているだけで、
アクセスログとしての意味はありません。
こうしてみると、何もエラーは無いように思えます。
書き込み先の access.txt にもアクセス記録が残っています。
<img src="../../images/0014-CGIProgrammingForRubyBeginners-3/access.jpg" alt="access.jpg" /></p>

<p>では、何度か 
<a href="http://localhost:8080/access.rb">http://localhost:8080/access.rb</a> にアクセスしてから、
access.txt を RDE で読んでみて下さい。
アクセスした回数分だけ行数が増えているはずですが、
ファイルには 1 行しか記録がありませんね。
どこが悪いのでしょう？</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text"> 原因を考えてみて下さい。</code></pre></figure>

<p>間違っているのは open の引数です。
open の引数の 2 つ目が “w” になっていますね。
これがエラーの原因でした。</p>

<p>前回 open の引数に “w” を使うと、元のデータが消えると注意しました。
今回のようにアクセスのたびにデータを追加したい時は “a” を使わなければなりません。
“w” を使うと、アクセスのたびに下のように処理されてしまいます。</p>

<ol>
  <li>access.txt を 書き込み用に開く</li>
  <li>それまでのデータが消える</li>
  <li>まっさらな access.txt に 1 回分のアクセス記録が保存される</li>
</ol>

<p>アクセスの度にこれが繰り返されるので、
何回アクセスしても access.txt は 1 行のままです。</p>

<p>一方、引数を “a” で開いた場合、下のように処理されます。</p>

<ol>
  <li>access.txt を 追加書き込み用に開く</li>
  <li>それまでのデータの末尾に 1 回分のアクセス記録が保存される</li>
</ol>

<p>これで追加書き込みがされて
アクセスのたびに行数が増えていきます。</p>

<p>open の引数以外にもう 1 つ注意があります。
必ずしもエラーではありませんが、
access.rb ではファイルを閉じていません。
本来は閉じるべきなので、これも追加しておきます。
修正後の access.rb は下のようになります。</p>

<p>access-ok.rb</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#!/usr/bin/ruby</span>

<span class="nb">require</span> <span class="s2">"cgi"</span>

<span class="n">c</span> <span class="o">=</span> <span class="no">CGI</span><span class="p">.</span><span class="nf">new</span>

<span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"access.txt"</span><span class="p">,</span> <span class="s2">"a"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="no">Time</span><span class="p">.</span><span class="nf">new</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">": "</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">remote_addr</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">", "</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="n">c</span><span class="p">.</span><span class="nf">remote_host</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="s2">"</span><span class="se">\n</span><span class="s2">"</span><span class="p">)</span>
<span class="n">f</span><span class="p">.</span><span class="nf">close</span>

<span class="nb">print</span> <span class="s2">"Content-Type: text/html</span><span class="se">\n\n</span><span class="s2">"</span>
<span class="nb">print</span> <span class="s2">"OK"</span>


</code></pre></div></div>

<h3 id="まとめ">まとめ</h3>

<p>簡単に 1-3 のプログラムのエラーをまとめてみましょう。</p>

<p>まず、その 1 では Ruby プログラムとしてのエラーを含む
CGI プログラムを修正しました。
Ruby プログラムとして実行することで
簡単にエラーを見つけることが出来ましたね。</p>

<p>その 2 のプログラムでは Ruby プログラムとしてのエラーと
CGI プログラムとしてのエラーの両方がありました。
CGI プログラムとしてのエラーはなかなか見つけにくいので、
今回はプリントデバッグを利用してエラーの原因を探しました。</p>

<p>その 3 は open の引数の間違いでしたね。
この間違いは Ruby, CGI プログラムのいずれのエラーでもありません。 
欲しい機能と実際のプログラムの内容とが合致していないことがエラーの原因でした。
その 1, 2 に比べると、原因を見つけるのが難しかったのではないでしょうか。</p>

<h2 id="おわりに">おわりに</h2>

<p>この号では Ruby プログラムや CGI プログラムのデバッグ方法を学びました。
今後皆さんがプログラムを作る時にも
様々なエラーと付き合っていかなければなりません。
最初はエラーのある場所を見つけるのも苦労すると思いますが、
だんだんとエラーとの付き合い方も分かるようになってきます。</p>

<p>次号は掲示板作りに戻りたいと思います。
まずは 12 号の掲示板の修正から始める予定です。</p>

<h2 id="参考文献-というか-ほとんどリンク">参考文献 というか ほとんどリンク</h2>

<h3 id="オブジェクトメソッドクラス">オブジェクト・メソッド・クラス</h3>

<ul>
  <li><a href="http://www.ruby-lang.org/ja/man/?cmd=view;name=%A5%AA%A5%D6%A5%B8%A5%A7%A5%AF%A5%C8">Ruby リファレンスマニュアル - オブジェクト</a> リファレンスマニュアルのオブジェクトの説明のページです。</li>
  <li><a href="http://tutorial.jp/prog/ruby/rubyman.pdf">Ruby 実習マニュアル</a> Ruby のオブジェクトの記述があります。</li>
  <li><a href="http://www.ogis-ri.co.jp/otc/hiroba/technical/Squeak2/index.html">−オブジェクト指向再入門 − </a> Smalltalk というプログラム言語でのオブジェクトの考え方が説明されています。</li>
  <li><a href="http://java.sun.com/docs/books/tutorial/java/concepts/index.html">Object-Oriented Programming Concepts</a> Java というプログラム言語でのオブジェクトの考え方が説明されています。</li>
</ul>

<p>そのほか参考にした文献</p>

<ul>
  <li><a href="https://www.amazon.co.jp/%E8%87%AA%E7%94%B1%E8%87%AA%E5%9C%A8Squeak%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0-%E6%A2%85%E6%B2%A2-%E7%9C%9F%E5%8F%B2/dp/4883732037?SubscriptionId=0J9Z9W8W4CJ3TQ5VWY02&amp;tag=cshs-22&amp;linkCode=xm2&amp;camp=2025&amp;creative=165953&amp;creativeASIN=4883732037">‘自由自在 Squeak プログラミング’</a></li>
  <li><a href="http://d.hatena.ne.jp/sumim/20040525/p1">http://d.hatena.ne.jp/sumim/20040525/p1</a></li>
  <li><a href="http://kmaebashi.com/programmer/object/index.html">http://kmaebashi.com/programmer/object/index.html</a></li>
  <li><a href="http://www.spice-of-life.net/wiki/index.cgi/d/?wikiname=LearnOOPWithSqueak">http://www.spice-of-life.net/wiki/index.cgi/d/?wikiname=LearnOOPWithSqueak</a></li>
</ul>

<h3 id="エラー">エラー</h3>

<ul>
  <li><a href="http://www.harukaze.net/~mishima/perl/cgi-debug-env/deb-tech.html">http://www.harukaze.net/~mishima/perl/cgi-debug-env/deb-tech.html</a></li>
  <li><a href="http://www.phys.cs.is.nagoya-u.ac.jp/~watanabe/tips/debug.html">http://www.phys.cs.is.nagoya-u.ac.jp/~watanabe/tips/debug.html</a></li>
  <li><a href="http://phpspot.org/blog/archives/2006/01/iehttpiehttphea.html">http://phpspot.org/blog/archives/2006/01/iehttpiehttphea.html</a></li>
</ul>

<h2 id="筆者について-というか-猫について">筆者について というか 猫について</h2>

<p>朝起きると、私が寝ている布団の上に猫が乗っていたりします。
大きいほうは 5kg もあるので、結構寝苦しいです。
普段、からかって遊んでいる逆襲なのでしょうか・・・。</p>

<p><a href="../../articles/0014/0014-CGIProgrammingForRubyBeginners-2.html">前ページへ</a>
<a href="../../articles/0014/0014-CGIProgrammingForRubyBeginners.html">目次ページへ</a></p>


                    </div>
                </div>
            </div>
        </div>
    </div>
  </body>
</html>
